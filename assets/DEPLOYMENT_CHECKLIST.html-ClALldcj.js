import{_ as c,c as t,a as p,b as a,d as e,w as l,r,o as d,e as i}from"./app-B1ZHZUkk.js";const o={};function m(u,s){const n=r("RouteLink");return d(),t("div",null,[s[4]||(s[4]=p(`<h1 id="docker-é•œåƒç›´æ¥æ‹‰å–éƒ¨ç½²-å¿«é€ŸéªŒè¯æ¸…å•" tabindex="-1"><a class="header-anchor" href="#docker-é•œåƒç›´æ¥æ‹‰å–éƒ¨ç½²-å¿«é€ŸéªŒè¯æ¸…å•"><span>Docker é•œåƒç›´æ¥æ‹‰å–éƒ¨ç½² - å¿«é€ŸéªŒè¯æ¸…å•</span></a></h1><h2 id="ğŸ“‹-éƒ¨ç½²éªŒè¯æ¸…å•" tabindex="-1"><a class="header-anchor" href="#ğŸ“‹-éƒ¨ç½²éªŒè¯æ¸…å•"><span>ğŸ“‹ éƒ¨ç½²éªŒè¯æ¸…å•</span></a></h2><p>åœ¨ä½¿ç”¨æ–°çš„ç›´æ¥æ‹‰å–éƒ¨ç½²æ–¹æ¡ˆä¹‹å‰ï¼Œè¯·ç¡®è®¤ä»¥ä¸‹é¡¹ç›®ï¼š</p><h3 id="âœ…-ç³»ç»Ÿè¦æ±‚" tabindex="-1"><a class="header-anchor" href="#âœ…-ç³»ç»Ÿè¦æ±‚"><span>âœ… ç³»ç»Ÿè¦æ±‚</span></a></h3><ul><li>[ ] Docker å·²å®‰è£…å¹¶è¿è¡Œ</li><li>[ ] ç«¯å£ 5000 æœªè¢«å ç”¨</li><li>[ ] å…·æœ‰äº’è”ç½‘è¿æ¥ï¼ˆç”¨äºæ‹‰å–é•œåƒï¼‰</li></ul><h3 id="âœ…-éƒ¨ç½²æ­¥éª¤éªŒè¯" tabindex="-1"><a class="header-anchor" href="#âœ…-éƒ¨ç½²æ­¥éª¤éªŒè¯"><span>âœ… éƒ¨ç½²æ­¥éª¤éªŒè¯</span></a></h3><h4 id="æ–¹å¼ä¸€-ä¸€é”®è„šæœ¬éƒ¨ç½²" tabindex="-1"><a class="header-anchor" href="#æ–¹å¼ä¸€-ä¸€é”®è„šæœ¬éƒ¨ç½²"><span>æ–¹å¼ä¸€ï¼šä¸€é”®è„šæœ¬éƒ¨ç½²</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token comment"># Linux/macOS</span></span>
<span class="line"><span class="token function">curl</span> <span class="token parameter variable">-o</span> deploy.sh https://raw.githubusercontent.com/leletxh/CABM/main/deploy.sh</span>
<span class="line"><span class="token function">chmod</span> +x deploy.sh</span>
<span class="line">./deploy.sh</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-powershell line-numbers-mode" data-highlighter="prismjs" data-ext="powershell"><pre><code><span class="line"><span class="token comment"># Windows PowerShell</span></span>
<span class="line"><span class="token function">Invoke-WebRequest</span> <span class="token operator">-</span>Uri <span class="token string">&quot;https://raw.githubusercontent.com/leletxh/CABM/main/deploy.ps1&quot;</span> <span class="token operator">-</span>OutFile <span class="token string">&quot;deploy.ps1&quot;</span></span>
<span class="line">PowerShell <span class="token operator">-</span>ExecutionPolicy Bypass <span class="token operator">-</span>File deploy<span class="token punctuation">.</span>ps1</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="æ–¹å¼äºŒ-æ‰‹åŠ¨-docker-å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#æ–¹å¼äºŒ-æ‰‹åŠ¨-docker-å‘½ä»¤"><span>æ–¹å¼äºŒï¼šæ‰‹åŠ¨ Docker å‘½ä»¤</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token comment"># 1. åˆ›å»ºå·¥ä½œç›®å½•å’Œé…ç½®</span></span>
<span class="line"><span class="token function">mkdir</span> cabm-app <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> cabm-app</span>
<span class="line"><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> data static/images/cache static/audio</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 2. åˆ›å»º .env æ–‡ä»¶ï¼ˆå‚è€ƒ .env.exampleï¼‰</span></span>
<span class="line"><span class="token comment"># 3. è¿è¡Œå®¹å™¨</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> cabm-app <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-p</span> <span class="token number">5000</span>:5000 <span class="token punctuation">\\</span></span>
<span class="line">  --env-file .env <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-v</span> <span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">pwd</span><span class="token variable">)</span></span>/data:/app/data <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-v</span> <span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">pwd</span><span class="token variable">)</span></span>/static/images/cache:/app/static/images/cache <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-v</span> <span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">pwd</span><span class="token variable">)</span></span>/static/audio:/app/static/audio <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">--restart</span> unless-stopped <span class="token punctuation">\\</span></span>
<span class="line">  ghcr.io/leletxh/cabm:latest</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="æ–¹å¼ä¸‰-docker-compose" tabindex="-1"><a class="header-anchor" href="#æ–¹å¼ä¸‰-docker-compose"><span>æ–¹å¼ä¸‰ï¼šDocker Compose</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token comment"># ä½¿ç”¨æä¾›çš„ docker-compose.yml</span></span>
<span class="line"><span class="token function">docker-compose</span> up <span class="token parameter variable">-d</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="âœ…-éƒ¨ç½²åéªŒè¯" tabindex="-1"><a class="header-anchor" href="#âœ…-éƒ¨ç½²åéªŒè¯"><span>âœ… éƒ¨ç½²åéªŒè¯</span></a></h3><ul><li>[ ] å®¹å™¨æˆåŠŸå¯åŠ¨ï¼š<code>docker ps | grep cabm-app</code></li><li>[ ] åº”ç”¨å¯è®¿é—®ï¼šæ‰“å¼€ http://localhost:5000</li><li>[ ] æ—¥å¿—æ— é”™è¯¯ï¼š<code>docker logs cabm-app</code></li><li>[ ] API é…ç½®æ­£ç¡®ï¼šèƒ½å¤Ÿæ­£å¸¸èŠå¤©å’Œç”Ÿæˆå›¾ç‰‡</li></ul><h3 id="âœ…-åŠŸèƒ½æµ‹è¯•" tabindex="-1"><a class="header-anchor" href="#âœ…-åŠŸèƒ½æµ‹è¯•"><span>âœ… åŠŸèƒ½æµ‹è¯•</span></a></h3><ul><li>[ ] åŸºæœ¬å¯¹è¯åŠŸèƒ½</li><li>[ ] å›¾ç‰‡ç”ŸæˆåŠŸèƒ½</li><li>[ ] è§’è‰²åˆ‡æ¢åŠŸèƒ½</li><li>[ ] è®°å¿†ç³»ç»ŸåŠŸèƒ½ï¼ˆå¯é€‰ï¼‰</li><li>[ ] TTS è¯­éŸ³åŠŸèƒ½ï¼ˆå¯é€‰ï¼‰</li></ul><h3 id="ğŸ”§-æ•…éšœæ’é™¤" tabindex="-1"><a class="header-anchor" href="#ğŸ”§-æ•…éšœæ’é™¤"><span>ğŸ”§ æ•…éšœæ’é™¤</span></a></h3><p>å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š</p><ol><li><code>.env</code> æ–‡ä»¶ä¸­çš„ API å¯†é’¥æ˜¯å¦æ­£ç¡®</li><li>ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸</li><li>Docker æœåŠ¡æ˜¯å¦è¿è¡Œ</li><li>ç«¯å£æ˜¯å¦è¢«å ç”¨</li><li>æŸ¥çœ‹è¯¦ç»†æ—¥å¿—ï¼š<code>docker logs -f cabm-app</code></li></ol><h3 id="ğŸ“š-ç›¸å…³æ–‡æ¡£" tabindex="-1"><a class="header-anchor" href="#ğŸ“š-ç›¸å…³æ–‡æ¡£"><span>ğŸ“š ç›¸å…³æ–‡æ¡£</span></a></h3>`,21)),a("ul",null,[a("li",null,[e(n,{to:"/deploy-docs/DOCKER_PULL_GUIDE.html"},{default:l(()=>s[0]||(s[0]=[i("Docker é•œåƒç›´æ¥æ‹‰å–éƒ¨ç½²æŒ‡å—",-1)])),_:1,__:[0]})]),a("li",null,[e(n,{to:"/deploy-docs/DOCKER_DEPLOY_GUIDE.html"},{default:l(()=>s[1]||(s[1]=[i("Docker éƒ¨ç½²æŒ‡å—",-1)])),_:1,__:[1]})]),a("li",null,[e(n,{to:"/deploy-docs/WINDOWS_DEPLOY_GUIDE.html"},{default:l(()=>s[2]||(s[2]=[i("Windows éƒ¨ç½²æŒ‡å—",-1)])),_:1,__:[2]})]),a("li",null,[e(n,{to:"/deploy-docs/DOCKER_SOLUTION.html"},{default:l(()=>s[3]||(s[3]=[i("æ•…éšœæ’é™¤æŒ‡å—",-1)])),_:1,__:[3]})])]),s[5]||(s[5]=p(`<hr><h2 id="ğŸš€-å¿«é€Ÿå‘½ä»¤å‚è€ƒ" tabindex="-1"><a class="header-anchor" href="#ğŸš€-å¿«é€Ÿå‘½ä»¤å‚è€ƒ"><span>ğŸš€ å¿«é€Ÿå‘½ä»¤å‚è€ƒ</span></a></h2><h3 id="å®¹å™¨ç®¡ç†" tabindex="-1"><a class="header-anchor" href="#å®¹å™¨ç®¡ç†"><span>å®¹å™¨ç®¡ç†</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token comment"># æŸ¥çœ‹çŠ¶æ€</span></span>
<span class="line"><span class="token function">docker</span> <span class="token function">ps</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># æŸ¥çœ‹æ—¥å¿—</span></span>
<span class="line"><span class="token function">docker</span> logs <span class="token parameter variable">-f</span> cabm-app</span>
<span class="line"></span>
<span class="line"><span class="token comment"># é‡å¯å®¹å™¨</span></span>
<span class="line"><span class="token function">docker</span> restart cabm-app</span>
<span class="line"></span>
<span class="line"><span class="token comment"># åœæ­¢å®¹å™¨</span></span>
<span class="line"><span class="token function">docker</span> stop cabm-app</span>
<span class="line"></span>
<span class="line"><span class="token comment"># åˆ é™¤å®¹å™¨</span></span>
<span class="line"><span class="token function">docker</span> <span class="token function">rm</span> <span class="token parameter variable">-f</span> cabm-app</span>
<span class="line"></span>
<span class="line"><span class="token comment"># æ›´æ–°é•œåƒ</span></span>
<span class="line"><span class="token function">docker</span> pull ghcr.io/leletxh/cabm:latest</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ•°æ®ç®¡ç†" tabindex="-1"><a class="header-anchor" href="#æ•°æ®ç®¡ç†"><span>æ•°æ®ç®¡ç†</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token comment"># å¤‡ä»½æ•°æ®</span></span>
<span class="line"><span class="token function">tar</span> <span class="token parameter variable">-czf</span> cabm-backup-<span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%Y%m%d<span class="token variable">)</span></span>.tar.gz data/</span>
<span class="line"></span>
<span class="line"><span class="token comment"># æ¢å¤æ•°æ®</span></span>
<span class="line"><span class="token function">tar</span> <span class="token parameter variable">-xzf</span> cabm-backup-YYYYMMDD.tar.gz</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ç³»ç»Ÿç›‘æ§" tabindex="-1"><a class="header-anchor" href="#ç³»ç»Ÿç›‘æ§"><span>ç³»ç»Ÿç›‘æ§</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token comment"># æŸ¥çœ‹èµ„æºä½¿ç”¨</span></span>
<span class="line"><span class="token function">docker</span> stats cabm-app</span>
<span class="line"></span>
<span class="line"><span class="token comment"># æŸ¥çœ‹ç«¯å£å ç”¨</span></span>
<span class="line"><span class="token function">netstat</span> <span class="token parameter variable">-tlnp</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token number">5000</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># æ£€æŸ¥ç£ç›˜ç©ºé—´</span></span>
<span class="line"><span class="token function">df</span> <span class="token parameter variable">-h</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,8))])}const h=c(o,[["render",m]]),b=JSON.parse('{"path":"/deploy-docs/DEPLOYMENT_CHECKLIST.html","title":"Docker é•œåƒç›´æ¥æ‹‰å–éƒ¨ç½² - å¿«é€ŸéªŒè¯æ¸…å•","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"ğŸ“‹ éƒ¨ç½²éªŒè¯æ¸…å•","slug":"ğŸ“‹-éƒ¨ç½²éªŒè¯æ¸…å•","link":"#ğŸ“‹-éƒ¨ç½²éªŒè¯æ¸…å•","children":[{"level":3,"title":"âœ… ç³»ç»Ÿè¦æ±‚","slug":"âœ…-ç³»ç»Ÿè¦æ±‚","link":"#âœ…-ç³»ç»Ÿè¦æ±‚","children":[]},{"level":3,"title":"âœ… éƒ¨ç½²æ­¥éª¤éªŒè¯","slug":"âœ…-éƒ¨ç½²æ­¥éª¤éªŒè¯","link":"#âœ…-éƒ¨ç½²æ­¥éª¤éªŒè¯","children":[]},{"level":3,"title":"âœ… éƒ¨ç½²åéªŒè¯","slug":"âœ…-éƒ¨ç½²åéªŒè¯","link":"#âœ…-éƒ¨ç½²åéªŒè¯","children":[]},{"level":3,"title":"âœ… åŠŸèƒ½æµ‹è¯•","slug":"âœ…-åŠŸèƒ½æµ‹è¯•","link":"#âœ…-åŠŸèƒ½æµ‹è¯•","children":[]},{"level":3,"title":"ğŸ”§ æ•…éšœæ’é™¤","slug":"ğŸ”§-æ•…éšœæ’é™¤","link":"#ğŸ”§-æ•…éšœæ’é™¤","children":[]},{"level":3,"title":"ğŸ“š ç›¸å…³æ–‡æ¡£","slug":"ğŸ“š-ç›¸å…³æ–‡æ¡£","link":"#ğŸ“š-ç›¸å…³æ–‡æ¡£","children":[]}]},{"level":2,"title":"ğŸš€ å¿«é€Ÿå‘½ä»¤å‚è€ƒ","slug":"ğŸš€-å¿«é€Ÿå‘½ä»¤å‚è€ƒ","link":"#ğŸš€-å¿«é€Ÿå‘½ä»¤å‚è€ƒ","children":[{"level":3,"title":"å®¹å™¨ç®¡ç†","slug":"å®¹å™¨ç®¡ç†","link":"#å®¹å™¨ç®¡ç†","children":[]},{"level":3,"title":"æ•°æ®ç®¡ç†","slug":"æ•°æ®ç®¡ç†","link":"#æ•°æ®ç®¡ç†","children":[]},{"level":3,"title":"ç³»ç»Ÿç›‘æ§","slug":"ç³»ç»Ÿç›‘æ§","link":"#ç³»ç»Ÿç›‘æ§","children":[]}]}],"git":{"updatedTime":1754306992000,"contributors":[{"name":"2302_76329346","username":"","email":"2302_76329346@noreply.gitcode.com","commits":1}],"changelog":[{"hash":"f9c61434bda4cac85d5b9c782b7743cb86d12af5","time":1754306992000,"email":"2302_76329346@noreply.gitcode.com","author":"2302_76329346","message":"chore: initialize package.json with project metadata and development dependencies"}]},"filePathRelative":"deploy-docs/DEPLOYMENT_CHECKLIST.md"}');export{h as comp,b as data};
