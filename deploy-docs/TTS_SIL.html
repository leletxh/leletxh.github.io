<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.20" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const useChoice = localStorage.getItem('vuepress-color-scheme')
      const systemStatus =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (useChoice === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (useChoice === 'dark' || systemStatus) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <title>SiliconFlow TTS 服务配置指南 | CABM</title><meta name="description" content="SiliconFlow TTS 语音合成服务的配置和使用指南">
    <link rel="preload" href="/assets/style-B3-VMakp.css" as="style"><link rel="stylesheet" href="/assets/style-B3-VMakp.css">
    <link rel="modulepreload" href="/assets/app-DWWa266Z.js"><link rel="modulepreload" href="/assets/TTS_SIL.html-gZj1h48q.js">
    <link rel="prefetch" href="/assets/CONTRIBUTING.html-Bs41pkb6.js" as="script"><link rel="prefetch" href="/assets/index.html-B_pEdQS9.js" as="script"><link rel="prefetch" href="/assets/get-started.html-DvkD6Gz1.js" as="script"><link rel="prefetch" href="/assets/DEPLOYMENT_CHECKLIST.html-9BB8eij-.js" as="script"><link rel="prefetch" href="/assets/DOCKER_DEPLOYMENT.html-DIp50JIG.js" as="script"><link rel="prefetch" href="/assets/DOCKER_DEPLOY_GUIDE.html-Ccp6NRpd.js" as="script"><link rel="prefetch" href="/assets/DOCKER_PULL_GUIDE.html-DQyPanjw.js" as="script"><link rel="prefetch" href="/assets/DOCKER_SOLUTION.html-qFQNF2Cz.js" as="script"><link rel="prefetch" href="/assets/TTS_GPTSoVITS.html-C_wQEBri.js" as="script"><link rel="prefetch" href="/assets/WINDOWS_DEPLOY_GUIDE.html-BQmQEfRs.js" as="script"><link rel="prefetch" href="/assets/404.html-bE-pJwLd.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/"><img class="vp-site-logo" src="https://vuejs.press/images/hero.png" alt="CABM"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">CABM</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/" aria-label="CABM"><!--[--><!--[--><!--]--><!--]-->CABM<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/get-started.html" aria-label="快速开始"><!--[--><!--[--><!--]--><!--]-->快速开始<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/" aria-label="CABM"><!--[--><!--[--><!--]--><!--]-->CABM<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/get-started.html" aria-label="快速开始"><!--[--><!--[--><!--]--><!--]-->快速开始<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">SiliconFlow TTS 服务配置指南 <!----></p><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div><h1 id="siliconflow-tts-服务配置指南" tabindex="-1"><a class="header-anchor" href="#siliconflow-tts-服务配置指南"><span>SiliconFlow TTS 服务配置指南</span></a></h1><h2 id="概述" tabindex="-1"><a class="header-anchor" href="#概述"><span>概述</span></a></h2><p>本指南将帮助您配置和使用 SiliconFlow 提供的 TTS (Text-to-Speech) 服务。SiliconFlow TTS 服务基于 FunAudioLLM/CosyVoice2-0.5B 模型，提供高质量的语音合成功能。</p><h2 id="前置要求" tabindex="-1"><a class="header-anchor" href="#前置要求"><span>前置要求</span></a></h2><ul><li>Python 3.7+</li><li>requests 库</li><li>有效的 SiliconFlow API 密钥</li></ul><h2 id="环境变量配置" tabindex="-1"><a class="header-anchor" href="#环境变量配置"><span>环境变量配置</span></a></h2><p>在使用 SiliconFlow TTS 服务之前，您需要配置以下环境变量：</p><table><thead><tr><th>环境变量</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td><code>TTS_SERVICE_METHOD</code></td><td><code>siliconflow</code></td><td>TTS 服务类型，设置为 <code>siliconflow</code></td></tr><tr><td><code>TTS_SERVICE_URL_SiliconFlow</code></td><td><code>https://api.siliconflow.cn/v1</code></td><td>SiliconFlow API 基础URL</td></tr><tr><td><code>TTS_SERVICE_API_KEY</code></td><td>无</td><td><strong>必需</strong> - 您的 SiliconFlow API 密钥</td></tr></tbody></table><h3 id="配置示例" tabindex="-1"><a class="header-anchor" href="#配置示例"><span>配置示例</span></a></h3><p><strong>Windows (.env 文件)</strong></p><div class="language-env line-numbers-mode" data-highlighter="prismjs" data-ext="env"><pre><code><span class="line">TTS_SERVICE_METHOD=siliconflow</span>
<span class="line">TTS_SERVICE_URL_SiliconFlow=https://api.siliconflow.cn/v1</span>
<span class="line">TTS_SERVICE_API_KEY=your_api_key_here</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Linux/macOS (环境变量)</strong></p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token builtin class-name">export</span> <span class="token assign-left variable">TTS_SERVICE_METHOD</span><span class="token operator">=</span>siliconflow</span>
<span class="line"><span class="token builtin class-name">export</span> <span class="token assign-left variable">TTS_SERVICE_URL_SiliconFlow</span><span class="token operator">=</span>https://api.siliconflow.cn/v1</span>
<span class="line"><span class="token builtin class-name">export</span> <span class="token assign-left variable">TTS_SERVICE_API_KEY</span><span class="token operator">=</span>your_api_key_here</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="功能特性" tabindex="-1"><a class="header-anchor" href="#功能特性"><span>功能特性</span></a></h2><h3 id="_1-自定义音色管理" tabindex="-1"><a class="header-anchor" href="#_1-自定义音色管理"><span>1. 自定义音色管理</span></a></h3><ul><li><strong>自动加载远程音色</strong>：启动时自动获取已上传的自定义音色列表</li><li><strong>本地音色上传</strong>：自动扫描并上传 <code>data/ref_audio/</code> 目录下的音频文件</li><li><strong>音色缓存</strong>：避免重复上传相同的音色文件</li></ul><h3 id="_2-支持的音频格式" tabindex="-1"><a class="header-anchor" href="#_2-支持的音频格式"><span>2. 支持的音频格式</span></a></h3><ul><li><strong>输入格式</strong>：WAV 文件（用于音色训练）</li><li><strong>输出格式</strong>：WAV, MP3, PCM, OPUS</li><li><strong>采样率</strong>：支持多种采样率配置</li></ul><h3 id="_3-目录结构" tabindex="-1"><a class="header-anchor" href="#_3-目录结构"><span>3. 目录结构</span></a></h3><p>确保您的项目具有以下目录结构：</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">project/</span>
<span class="line">├── data/</span>
<span class="line">│   └── ref_audio/</span>
<span class="line">│       ├── character1.wav        # 音色音频文件</span>
<span class="line">│       ├── character1.txt        # 对应的参考文本</span>
<span class="line">│       ├── character2.wav</span>
<span class="line">│       ├── character2.txt</span>
<span class="line">│       └── ...</span>
<span class="line">├── ttsapi_service.py</span>
<span class="line">└── utils/</span>
<span class="line">    └── env_utils.py</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="自定义音色配置" tabindex="-1"><a class="header-anchor" href="#自定义音色配置"><span>自定义音色配置</span></a></h2><h3 id="_1-准备音频文件" tabindex="-1"><a class="header-anchor" href="#_1-准备音频文件"><span>1. 准备音频文件</span></a></h3><p>在 <code>data/ref_audio/</code> 目录下放置您的音色文件：</p><ul><li><strong>音频文件</strong>：格式为 <code>.wav</code>，文件名为音色名称（如 <code>alice.wav</code>）</li><li><strong>文本文件</strong>：格式为 <code>.txt</code>，文件名与音频文件对应（如 <code>alice.txt</code>）</li></ul><h3 id="_2-参考文本要求" tabindex="-1"><a class="header-anchor" href="#_2-参考文本要求"><span>2. 参考文本要求</span></a></h3><p>文本文件应包含与音频对应的文字内容，如果文件不存在或为空，系统将使用默认文本：</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">在一无所知中, 梦里的一天结束了，一个新的轮回便会开始</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_3-自动上传流程" tabindex="-1"><a class="header-anchor" href="#_3-自动上传流程"><span>3. 自动上传流程</span></a></h3><p>系统启动时会自动：</p><ol><li>扫描 <code>data/ref_audio/</code> 目录</li><li>检查音色是否已存在（基于 MD5 哈希）</li><li>上传新的音色到 SiliconFlow 平台</li><li>更新本地音色列表</li></ol><h2 id="错误处理" tabindex="-1"><a class="header-anchor" href="#错误处理"><span>错误处理</span></a></h2><h3 id="常见问题及解决方案" tabindex="-1"><a class="header-anchor" href="#常见问题及解决方案"><span>常见问题及解决方案</span></a></h3><ol><li><p><strong>API 密钥未设置</strong></p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">ValueError: TTS_SERVICE_API_KEY 未设置，请配置环境变量。</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>解决方案</strong>：检查并正确设置 <code>TTS_SERVICE_API_KEY</code> 环境变量</p></li><li><p><strong>音色上传失败</strong></p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">❌ 上传音色失败 [character_name]: 400, Bad Request</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>解决方案</strong>：</p><ul><li>检查音频文件格式（必须是 WAV）</li><li>确认参考文本内容正确</li><li>验证 API 密钥权限</li></ul></li><li><p><strong>TTS 生成失败</strong></p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">TTS 请求失败: 500, Internal Server Error</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>解决方案</strong>：</p><ul><li>检查网络连接</li><li>验证文本内容是否包含特殊字符</li><li>确认音色名称存在</li></ul></li></ol><h2 id="性能优化建议" tabindex="-1"><a class="header-anchor" href="#性能优化建议"><span>性能优化建议</span></a></h2><ol><li><p><strong>音色管理</strong></p><ul><li>合理控制音色数量，避免过多占用存储</li><li>定期清理不使用的音色</li></ul></li><li><p><strong>请求优化</strong></p><ul><li>批量处理短文本可提高效率</li><li>避免过长的单次文本输入</li></ul></li><li><p><strong>缓存策略</strong></p><ul><li>对相同文本和参数的请求考虑实现本地缓存</li><li>音频文件可压缩存储以节省空间</li></ul></li></ol><h2 id="注意事项" tabindex="-1"><a class="header-anchor" href="#注意事项"><span>注意事项</span></a></h2><ol><li><strong>API 限制</strong>：请遵守 SiliconFlow 的 API 调用频率限制</li><li><strong>音频质量</strong>：上传的参考音频质量会直接影响合成效果</li><li><strong>文本长度</strong>：单次请求的文本长度建议控制在合理范围内</li><li><strong>网络环境</strong>：确保服务器能够正常访问 SiliconFlow API</li></ol><h2 id="故障排查" tabindex="-1"><a class="header-anchor" href="#故障排查"><span>故障排查</span></a></h2><p>如果遇到问题，请按以下步骤排查：</p><ol><li><strong>检查环境变量配置</strong></li><li><strong>验证 API 密钥有效性</strong></li><li><strong>确认网络连接正常</strong></li><li><strong>查看详细错误日志</strong></li><li><strong>检查音频文件格式和内容</strong></li></ol><p>通过以上配置和使用方法，您可以充分利用 SiliconFlow TTS 服务的强大功能，为您的应用添加高质量的语音合成能力。</p></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">最近更新：: </span><time class="meta-item-info" datetime="2025-08-04T16:03:18.000Z" data-allow-mismatch>2025/8/4 16:03</time></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 2302_76329346@noreply.gitcode.com">2302_76329346</span><!----><!--]--><!--]--></span></div></div></footer><!----><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-DWWa266Z.js" defer></script>
  </body>
</html>
